<!DOCTYPE html>
<html lang="en">
<head>
		 <meta charset="UTF-8">
		 <title>ajax请求json数据</title>
</head>
<div id="test"></div>
<script src="jquery.min.js"></script>
<script type="text/javascript" src="//cdn.bootcss.com/jquery.lazyload/1.9.1/jquery.lazyload.min.js" ></script>
<script>
		

$.ajax({
		type: 'POST',
		url: NET.getBisList,
		dataType: 'json',
		async: true,
		data: {
			'city': city,
			'districtid': districtid,
			'cont': cont,
			'page': page,
			'lon': lon,
			'lat': lat,
			'keywords': keywords,
			'distance': distance
		},
		success: function(data) {
			if (data.state == 0000) {
				var str = "";
				for (var i = 0; i < data.msg.length; i++) {
					var obj = data.msg[i];
					str += "<li class='shop_det' οnclick='openBusinessDet(" + obj.id + ")'>";
					str += " <div>";
					str += "   <div class='shop_prof'>";
					str += "   	<input type='hidden' name='id' id='B_id' value='" + obj.id + "'/>";
					str += "	<img class='lazy' src='../images/maititi.png' data-original='" + obj.picurl + "' width='600' height='300' οnerrοr='loadImgError(" + obj.id + ")' id='img" + obj.id + "'>";
					str += "   </div>";
					str += "   <div class='info_det'>";
					str += "	<span class='name_det'>" + obj.bisname + "</span>";
					str += "    <span class='location'>距您" + (obj.distance / 1000).toFixed(1) + "km</span>";
					str += "	<span class='add_det'>" + obj.address + "</span>";
					str += "   </div>";
					str += " </div>";
					str += "</li>";
				}
				$('#showshops').append(str);
				$("#loadMore").html("点击加载更多");
			} else {
				//没有数据
				$("#loadMore").html(data.msg);
				$("#loadMore").unbind("click"); //移除click
			}
		},
		complete: function() {
			$("img.lazy").lazyload();
		},
		error: function(xhr, type) {
 
		}
	});

	</script>
	<div id="jsonTip"> </div>
	
	<input type="button" value="获取数据" id="btn"/>
	</body>
	</html>